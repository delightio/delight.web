    <div class="span9" id="app-view-app-sessions">
      <% unless @recorded_sessions.blank? %>
      <% @recorded_sessions.each do |session| %>
      <div class="row">
        <div class="span4">
          <% if favorite_ids.include?(session.id) %>
            <%= link_to raw('<i class="icon-star"></i>'), app_session_unfavorite_path(:app_session_id => session.id), :method => :put, :remote => true, :class => "float-l star app-session-unfavorite-btn", :'data-session-id' => session.id %>
          <% else %>
            <%= link_to raw('<i class="icon-star-empty"></i>'), app_session_favorite_path(:app_session_id => session.id), :method => :put, :remote => true, :class => "float-l star app-session-favorite-btn", :'data-session-id' => session.id %>
          <% end %>
          <ul class="thumbnails" style="margin-bottom:0">
            <li class="span3">
              <% if session.video %>
              <a href=<%= video_url(session.video) %> class="thumbnail group-video">
                <img src="http://placehold.it/260x180" alt="">
              </a>
              <% else %>
              <a href="javascript:void(0)" class="thumbnail">
                <img src="http://placehold.it/260x180" alt="">
              </a>
              <% end %>
            </li>
          </ul>
        </div>
        <div class="span2 ml-0">
          <table style="width:100%">
            <tbody>
              <tr>
                <td>Session:</td>
                <td class="align-r"><%= session.id %></td>
              </tr>
              <tr>
                <td>Version:</td>
                <td class="align-r"><%= session.app_version %></td>
              </tr>
              <tr>
                <td>Duration:</td>
                <td class="align-r"><%= session.duration %> s</td>
              </tr>
              <tr>
                <td>Date:</td>
                <td class="align-r"><%= session.created_at.to_date if session.video %></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="span2">
          <table style="width:100%">
            <tbody>
              <tr>
                <td>User ID:</td>
                <td class="align-r"><%= session.app_user_id %></td>
              </tr>
              <tr>
                <td>Avg duration:</td>
                <td class="align-r">30 s ??</td>
              </tr>
              <tr>
                <td>Lifetime:</td>
                <td class="align-r">100 m ??</td>
              </tr>
            </tbody>
          </table>
        </div><!--/span-->
      </div><!--/row-->

      <hr style="margin:0 0 20px 0" />

      <% end %>
      <% end %>
    </div>

    <script>
      function favorite_handler(event, data, status, xhr) {
        if (data['result'] == 'success') {
          // update ui
          var $target = $(event.target)
          var session_id = $target.attr('data-session-id');
          $target.html('<i class="icon-star"></i>');
          $target.removeClass('app-session-favorite-btn').addClass('app-session-unfavorite-btn');
          $target.attr('href', '/app_sessions/' + session_id + '/unfavorite');
          // rebind handler
          $target.unbind('ajax:success');
          $target.bind('ajax:success', unfavorite_handler);
        }
      }
      function unfavorite_handler(event, data, status, xhr) {
        if (data['result'] == 'success') {
          // update ui
          var $target = $(event.target)
          var session_id = $target.attr('data-session-id');
          $target.html('<i class="icon-star-empty"></i>');
          $target.removeClass('app-session-unfavorite-btn').addClass('app-session-favorite-btn');
          $target.attr('href', '/app_sessions/' + session_id + '/favorite');
          // rebind handler
          $target.unbind('ajax:success');
          $target.bind('ajax:success', favorite_handler);
        }
      }

      $(".app-session-favorite-btn").bind('ajax:success', favorite_handler)
      $(".app-session-unfavorite-btn").bind('ajax:success', unfavorite_handler);
    </script>
