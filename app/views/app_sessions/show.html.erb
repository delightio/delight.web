<div class="container" style="width:100%">
  <div class="row">
    <div class="span9">
      <div class="row" style="position:relative">
        <div class="span3">
          <div class="btn-group">
            <a href="javascript:void(0)" id="rotate--90" class="btn btn-primary">-90</a>
            <a href="javascript:void(0)" id="rotate-0" class="btn btn-primary">0</a>
            <a href="javascript:void(0)" id="rotate-90" class="btn btn-primary">90</a>
            <a href="javascript:void(0)" id="rotate-180" class="btn btn-primary">180</a>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="span9" style="text-align:center;overflow:hidden">
          <!--div id="video-container" style="text-align:center"-->
            <video id="presentation-track-video" style="max-height:100%;max-width:100%" controls="controls" autoplay>
            <source src="<%= @track.presigned_read_uri if @track and @track.presigned_read_uri %>" type='video/mp4' />
            <!--source src="http://o-o.preferred.hkbn-hkg1.v4.lscache6.c.youtube.com/videoplayback?upn=r96ykGCv9aY&sparams=cp%2Cid%2Cip%2Cipbits%2Citag%2Cratebypass%2Csource%2Cupn%2Cexpire&fexp=906717%2C914057%2C907217%2C907335%2C921602%2C919306%2C919316%2C912804%2C913542%2C919324%2C912706&ms=au&itag=43&ip=210.0.0.0&signature=D5205DA2347C6DEE17074EE030282D14BF240D75.CC288462DA00B33CE4EAAB59F8B4166A4F83106F&sver=3&mt=1338798609&ratebypass=yes&source=youtube&expire=1338822357&key=yt1&ipbits=8&cp=U0hSTVhNUF9KUUNOMl9QR1REOnY2OGdUZDZaT3Ru&id=bbc1fdd86001885b" type='video/mp4' /-->
            Your browser does not support video tag.
            </video>
            <p id="browser-compatibility" style="color:white;display:none">
            We currently provide only H264 videos. Please use <a href="http://www.apple.com/safari/download/" target="_blank">Safari 3.1+</a> or <a href="http://windows.microsoft.com/en-us/internet-explorer/products/ie/home" target="_blank">IE 9.0+</a> to watch videos.
            </p>
          <!--/div-->
        </div>
      </div>
    </div>
    <div class="span3" style="margin-top:20px">
      <div class="row-fluid">
        <h3 style="color:white">Default properties</h3>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Session:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.id %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Version:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.app_version %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Build:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.app_build %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Locale:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.app_locale %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Duration:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.duration %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Date:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= session_time_in_words @app_session.created_at %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Device:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.device_hw_version %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Device OS:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.device_os_version %></div>
      </div>
      <div class="row-fluid">
        <div class="span7"><h6>Connectivity:</h6></div>
        <div class="span5 pull-right" style="color:white"><%= @app_session.app_connectivity %></div>
      </div>
      <hr />
      <div class="row-fluid">
        <h3 style="color:white">Custom properties</h3>
      </div>
      <% @app_session.properties.each do |property| %>
      <div class="row-fluid">
        <div class="span7"><h6><%= property.key %>:</h6></div><br>
        <div class="span7 pull-right" style="color:white"><%= property.value %></div><br>
      </div>
      <% end %>
      <br />
      <div class="row">
        <div class="span3">
          <!--
          <%= link_to 'Favorite', app_session_favorite_path(:app_session_id => @app_session.id), :method => :put, :remote => true, :class => "btn" %>
          -->
          <% if @is_admin %>
            <%= link_to raw('Share'), new_invitation_path(:app_id => @app_session.app.id, :app_session_id => @app_session.id), :class => "btn btn-success", :style => "color:white", :id => "app-session-show-invite-viewer" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(function() {
    $("#rotate-0").click(function(eventObj) {
      $("#presentation-track-video").css('-moz-transform', 'rotate(0deg)');
      $("#presentation-track-video").css('-webkit-transform', 'rotate(0deg)');
      $("#presentation-track-video").css('-o-transform', 'rotate(0deg)');
      $("#presentation-track-video").css('-ms-transform', 'rotate(0deg)');
      $("#presentation-track-video").css('transform', 'rotate(0deg)');
    });
    $("#rotate-90").click(function(eventObj) {
      $("#presentation-track-video").css('-moz-transform', 'rotate(90deg)');
      $("#presentation-track-video").css('-webkit-transform', 'rotate(90deg)');
      $("#presentation-track-video").css('-o-transform', 'rotate(90deg)');
      $("#presentation-track-video").css('-ms-transform', 'rotate(90deg)');
      $("#presentation-track-video").css('transform', 'rotate(90deg)');
    });
    $("#rotate-180").click(function(eventObj) {
      $("#presentation-track-video").css('-moz-transform', 'rotate(180deg)');
      $("#presentation-track-video").css('-webkit-transform', 'rotate(180deg)');
      $("#presentation-track-video").css('-o-transform', 'rotate(180deg)');
      $("#presentation-track-video").css('-ms-transform', 'rotate(180deg)');
      $("#presentation-track-video").css('transform', 'rotate(180deg)');
    });
    $("#rotate--90").click(function(eventObj) {
      $("#presentation-track-video").css('-moz-transform', 'rotate(-90deg)');
      $("#presentation-track-video").css('-webkit-transform', 'rotate(-90deg)');
      $("#presentation-track-video").css('-o-transform', 'rotate(-90deg)');
      $("#presentation-track-video").css('-ms-transform', 'rotate(-90deg)');
      $("#presentation-track-video").css('transform', 'rotate(-90deg)');
    });
    $("#app-session-show-invite-viewer").colorbox({
      iframe: true,
      transition:"none",
      width:"550px",
      height:"500px"
    });
    //$("#presentation-track-video", "#presentation-track-video2").acornMediaPlayer();
    $("#presentation-track-video").acornMediaPlayer();
  });
  $(document).bind('cbox_open', function() {
    $("#app-session-show-invite-viewer").text('Processing...');
  });
  $(document).bind('cbox_complete', function() {
    $("#app-session-show-invite-viewer").text('Share');
  });
  if ($.browser['mozilla']) { // to do check IE and version
    $("#browser-compatibility").show();
  }
</script>
